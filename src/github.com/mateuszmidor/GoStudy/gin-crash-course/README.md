# Go Gin Framework Crash Course (with GORM+SQLite3 and JWT and BasicAuth)
## This is a video catalog example  
Tutorial: https://www.youtube.com/watch?v=qR0WnWL2o1Q&list=PL3eAkoh7fypr8zrkiygiY1e9osoqjoV9w&index=1


## Web video catalog
http://localhost:8080/view/videos

## API
- Basic Auth test (credentials in base64 - admin:pass)
```bash
curl -H "Authorization: Basic YWRtaW46cGFzcw==" -X GET localhost:8080/batest
# response:
{"messsage":"BasicAuth credentials OK"}
```

- Login (generates JWT)
```bash
curl -X POST 'localhost:8080/login?username=admin&password=pass'
# response:
{"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwiYWRtaW4iOnRydWUsImV4cCI6MTYwMjc1MjQxNSwiaWF0IjoxNjAyNDkzMjE1LCJpc3MiOiJtYXRldXN6bWlkb3IuY29tIn0.EuoHF1zVYkMvfjLD58BJFOYVXnh6EsaLb5RMwkhXTwM"}
```

- Get all videos (requires JWT)
```bash
curl \
-H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwiYWRtaW4iOnRydWUsImV4cCI6MTYwMjc1MjQxNSwiaWF0IjoxNjAyNDkzMjE1LCJpc3MiOiJtYXRldXN6bWlkb3IuY29tIn0.EuoHF1zVYkMvfjLD58BJFOYVXnh6EsaLb5RMwkhXTwM" \
-X GET localhost:8080/api/videos
```

- Add video (requires JWT)
``` bash
curl \
-H "Content-Type: application/json" \
-H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwiYWRtaW4iOnRydWUsImV4cCI6MTYwMjc1MjQxNSwiaWF0IjoxNjAyNDkzMjE1LCJpc3MiOiJtYXRldXN6bWlkb3IuY29tIn0.EuoHF1zVYkMvfjLD58BJFOYVXnh6EsaLb5RMwkhXTwM" \
-d \
'{
    "title": "Orwell 1984",
    "description": "Audiobook by Novel 1984 of G. Orwell",
    "url": "https://www.youtube.com/embed/scqLliarGpM",
    "author" : {
        "firstname": "George",
        "lastname":"Orwell",
        "age": 75,
        "email": "g.orwell@gmail.com"
    }
}' \
-X POST \
localhost:8080/api/videos
```

- Update video (requires JWT)
``` bash
curl \
-H "Content-Type: application/json" \
-H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwiYWRtaW4iOnRydWUsImV4cCI6MTYwMjc1MjQxNSwiaWF0IjoxNjAyNDkzMjE1LCJpc3MiOiJtYXRldXN6bWlkb3IuY29tIn0.EuoHF1zVYkMvfjLD58BJFOYVXnh6EsaLb5RMwkhXTwM" \
-d \
'{
    "title": "MORZA Wszeteczne",
    "description": "Historie prosto z morza",
    "url": "https://www.youtube.com/embed/Rt9Ne36LGUk",
    "author": {
        "firstname": "Marcin",
        "lastname": "Mordka",
        "age": 43,
        "email": "mordka@marcin.com"
    }
}' \
-X PUT \
localhost:8080/api/videos/1
```

- Delete video (requires JWT)
``` bash
curl \
-H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFkbWluIiwiYWRtaW4iOnRydWUsImV4cCI6MTYwMjc1MjQxNSwiaWF0IjoxNjAyNDkzMjE1LCJpc3MiOiJtYXRldXN6bWlkb3IuY29tIn0.EuoHF1zVYkMvfjLD58BJFOYVXnh6EsaLb5RMwkhXTwM" \
-X DELETE \
localhost:8080/api/videos/1
```

## Database generated by GORM
![Logo](media/database.png)