# TLS demo

## How it works
- there is a Certificate Authority(CA) that issues domain certificates
- this CA must be known to client so it can trust the issued certificates
- in our example, the CA is minica, recognized with minica/minica.pem, and it issues certificate for domain `localhost`
- http server uses localhost certificate generated by minica (localhost/cert.pem, localhost/key.pem)
- http client trusts minica because we tell it so (by providing minica/minica.pem as CA certificate):
  - for curl we specify `--cacert minica/minica.pem` flag
  - for firefox we import minica/minica.pem under: Preferences -> Certificates -> View Certificates -> Import...
  - for go client we specify minica/minica.pem in TLS configuration

## Steps

- install minica from <https://github.com/jsha/minica>
- generate cert for localhost 
```shell
./minica --domains  localhost
```

, this will get you new directory:
```
localhost/
 - key.pem
 - cert.pem
```

- run server with generated certificate
- curl with Certificate Authority provided:
```shell
curl --cacert minica/minica.pem  https://localhost:9000
```

## Make Firefox respect your certificate