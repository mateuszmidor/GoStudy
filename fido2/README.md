# e2e fido2 example

FIDO is made of 
- webauthn(Web Authentication API) - protocol between client(browser) and relaying party(server)
- ctap(Client To Authenticator Protocol) - protocol beteween client(browser) and authenticator(e.g. yubikey, TouchID, samsung pass)

CTAP is already implemented by major browser, and out of scope here.  
webauthn consists of registration flow and login flow. Eventually the server receives public key used for checking if the user possesses the right private key.

## sources

- https://github.com/go-webauthn/webauthn?
- https://webauthn.guide/

## steps

webauthn requires HTTPS to even start working, so we generate keys to run TLS HTTP server:
```sh
go get github.com/jsha/minica # will use minica for generating keys for http server
go install github.com/jsha/minica
minica --domains localhost # generate the keys for localhost
import generated "minica.pem" as firefox trusted CA  # browser need to know it can trust the keys generated by minica CA (Certificate Authority)
go run . 
firefox https://localhost:8888 # see the app in action
 ```